здесь заметки по файлам всем что было активно и прекрасно работало все способы

login.html:

{% for cat, msg in get_flashed_messages(True) %}
<div class="flash {{cat}}">{{msg}}</div>
{% endfor %}
<form action="" method="post" class="form-contact">
{{ form.hidden_tag() }}
    <p>{{ form.email.label() }} {{ form.email() }}
    <p>{{ form.psw.label() }} {{ form.psw() }}
    <p>{{ form.remember.label() }} {{ form.remember() }}
    <p>{{ form.submit }}
<!--    <p><label>Email: </label> <input type="text" name="email" value="" required/>-->
<!--    <p><label>Password: </label> <input type="password" name="psw" value="" required />-->
<!--    <p><input type="checkbox" name="remain_me"/> Remain me-->
<!--    <p><input type="submit" value="Log in"/>-->
    <hr algin=left width="300px">
    <p><a href="{{url_for('register')}}">Register</a>
</form>

profile.html:

{% for cat, msg in get_flashed_messages(True) %}
<div class="flash {{cat}}">{{msg}}</div>
{% endfor %}
<table border="0" class="profile-table">
	<tr>
	<td valign="top" class="profile-panel">
		<p><a href="{{url_for('logout')}}">log out</a>
		<ul class="profile-info">
		<li>Name: {{ current_user.get_name() }}</li>
		<li>Email: {{ current_user.get_email() }}</li>
		</ul>
	</td></tr>
</table>
